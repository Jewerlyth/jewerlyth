<html>

<head>

    {% load static %}

    <!-- Bootstrap -->
    <!--<link href="{% static 'Jewerlythwebapp/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

     <!-- Fonts -->

     <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet">
     <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet">



    <!-- Styles -->
    <link href="{% static 'Jewerlythwebapp/css/jewerlyth.css' %}" rel="stylesheet">
    <!-- Prueba esto es lo unico que se ha modificado antes de que se modificara en local -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>

<body>

    <h1 class="site-heading text-center text-white d-none d-lg-block">
        <img src="{% static 'Jewerlythwebapp/img/logoj.png' %}" alt="Logo" class="logo-header">
        <span class="site-heading-lower">Jewerlyth</span>
    </h1>



 <!-- Navbar -->
 <nav class="navbar navbar-expand-lg navbar-dark py-lg-4" id="mainNav">
    <div class="container">
      <a class="navbar-brand text-uppercase text-expanded font-weight-bold d-lg-none" href="{% url 'Home' %}">Joyeria</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item {% if request.path == '/' %}active{% endif %} px-lg-4">
            <a class="nav-link text-uppercase text-expanded" href="{% url 'Home' %}">Inicio</a>
          </li>
          <li class="nav-item {% if request.path == '/productos' %}active{% endif %} px-lg-4">
            <a class="nav-link text-uppercase text-expanded" href="{% url 'Productos' %}">Productos</a>
          </li>
          <li class="nav-item {% if request.path == '/carrito' %}active{% endif %} px-lg-4">
            <a class="nav-link text-uppercase text-expanded" href="{% url 'ver_carrito' %}">Carrito</a>
          </li>
          <li class="nav-item {% if request.path == '/soporte' %}active{% endif %} px-lg-4">
            <a class="nav-link text-uppercase text-expanded" href="{% url 'Soporte' %}">Soporte</a>
          </li>
            <li class="nav-item {% if request.path == '/clientes' %}active{% endif %} px-lg-4">
            <a class="nav-link text-uppercase text-expanded" href="{% url 'Clientes' %}">Clientes</a>
          </li>

        </ul>
      </div>
    </div>
  </nav>


{% block content %}



{% endblock %}




    <!-- BotÃ³n flotante -->
    <button id="chat-toggle" onclick="toggleChat()">ğŸ’¬</button>

    <!-- Contenedor del chatbot -->
    <div id="chat-container">
        <div id="chat-header">CHATBOT JEWERLYTH</div>
        <div id="chatbox"></div>
        <div id="buttons">
            <button class="chat-button" onclick="sendMessage('Hola')">ğŸ‘‹ Hola</button>
            <button class="chat-button" onclick="sendMessage('Â¿QuÃ© joyas tienen?')">ğŸ’ Ver joyas</button>
            <button class="chat-button" onclick="sendMessage('Â¿CuÃ¡l es el precio?')">ğŸ’° Precios</button>
            <button class="chat-button" onclick="sendMessage('Â¿CuÃ¡les son sus horarios?')">â° Horarios</button>
            <button class="chat-button" onclick="sendMessage('InformaciÃ³n sobre envÃ­os')">ğŸ“¦ EnvÃ­os</button>
            <button class="chat-button" onclick="sendMessage('Necesito ayuda con correos')">ğŸ“¨ Ayuda</button>
            <button class="chat-button" onclick="sendMessage('Gracias')">ğŸ™ Gracias</button>
        </div>
    </div>

    <!-- Anuncio tipo popup -->
    <div id="popup-anuncio-full">
        <div class="cerrar-popup" onclick="cerrarPopup()">âœ–</div>
        <img src="https://wallpapercave.com/wp/wp2689088.jpg" alt="DÃ­a de las Madres" id="imagen-anuncio">
        <h2>ğŸŒ¸ Â¡Feliz DÃ­a de las Madres! ğŸŒ¸</h2>
        <p>âœ¨ Haz que este dÃ­a sea inolvidable con nuestras joyas exclusivas para mamÃ¡.</p>
    </div>

    <!-- Banners -->
    <div id="banners">
        <div class="banner"> Â¡Haz brillar tus momentos especiales!</div>
        <div class="banner">ğŸ’ Compra 2 piezas y llÃ©vate la 3Âª a mitad de precio.</div>
    </div>

      <!-- Anuncio deslizante -->
<div id="slider-announcement">
  <img src="https://th.bing.com/th/id/R.a9576699ddaf9192095a3d9fe0ba69cc?rik=R8EfEwpX5Arn5w&pid=ImgRaw&r=0" alt="Oferta" class="imagen-slider">
  <div class="texto-slider">
    <p>ğŸ Â¡Aprovecha nuestras promociones exclusivas por tiempo limitado.</p>
  </div>

</div>
    <script>
        // Alternar visibilidad del chat al hacer clic en el botÃ³n
        document.getElementById('chat-toggle').addEventListener('click', function () {
            const chat = document.getElementById('chat-container');
            if (chat.style.display === 'none' || chat.style.display === '') {
                chat.style.display = 'flex';
            } else {
                chat.style.display = 'none';
            }
        });

        function sendMessage(message) {
            const chatbox = document.getElementById("chatbox");

            const userMsg = document.createElement("div");
            userMsg.className = "message user-message";
            userMsg.textContent = message;
            chatbox.appendChild(userMsg);

            fetch("/chatbot/", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ message: message })
            })
            .then(res => res.json())
            .then(data => {
                const botMsg = document.createElement("div");
                botMsg.className = "message bot-message";
                botMsg.textContent = data.response;
                chatbox.appendChild(botMsg);
                chatbox.scrollTop = chatbox.scrollHeight;
            });
        }

        // Mostrar popup cada 8 minutos, iniciando a los 10 segundos
        function mostrarPopup() {
            const popup = document.getElementById("popup-anuncio-full");
            if (popup.style.display !== "flex") {
                popup.style.display = "flex";
            }
        }

        function cerrarPopup() {
            document.getElementById("popup-anuncio-full").style.display = "none";
        }

        // Mostrar popup y banners despuÃ©s de ciertos tiempos
        window.addEventListener("load", function () {
            setTimeout(() => {
                mostrarPopup(); // Mostrar popup despuÃ©s de 10 segundos
            }, 10000);

            setInterval(() => {
                mostrarPopup(); // Mostrar popup cada 8 minutos
            }, 480000);

            // Mostrar banners
            setTimeout(() => {
                mostrarBanners(); // Mostrar banners despuÃ©s de 10 segundos
            }, 10000);

            setInterval(() => {
                mostrarBanners(); // Mostrar banners cada 2 minutos
            }, 120000);
        });

        function mostrarBanners() {
            const banners = document.getElementById("banners");
            banners.style.display = "flex";
            setTimeout(() => {
                banners.style.display = "none";
            }, 10000);
        }

        function mostrarSlider() {
            const slider = document.getElementById("slider-announcement");
            slider.classList.add("show");
        }

        function cerrarSlider() {
            const slider = document.getElementById("slider-announcement");
            slider.classList.remove("show");
        }

        window.addEventListener("load", function () {
            setTimeout(() => {
                mostrarSlider();
            }, 10000);

            setTimeout(() => {
                cerrarSlider();
            }, 20000);

            setInterval(() => {
                mostrarSlider();
                setTimeout(() => {
                    cerrarSlider();
                }, 10000);
            }, 120000);
        });
    </script>




    <!-- Footer -->
    <footer class="footer text-faded text-center py-5">
      <div class="container">
        <p class="m-0">
	        <a href="#" class="link">
	          <span class="fa-stack fa-lg">
	            <i class="fa fa-circle fa-stack-2x"></i>
	            <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
	          </span>
	        </a>
	        <a href="#" class="link">
	          <span class="fa-stack fa-lg">
	            <i class="fa fa-circle fa-stack-2x"></i>
	            <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
	          </span>
	        </a>
	        <a href="#" class="link">
	          <span class="fa-stack fa-lg">
	            <i class="fa fa-circle fa-stack-2x"></i>
	            <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
	          </span>
	        </a>
	    </p>
        <p class="m-0 mbt">
        	<a href="https://www.facebook.com/profile.php?id=61567419571331" class="link">SÃ­guenos en Facebook</a>
		</p>
        <p class="m-0 mbt1">&copy; Jewerlyth 2025</p>
      </div>
	</footer>

    <!-- Bootstrap -->
    <script src="{% static 'Jewerlythwebapp/vendor/jquery/jquery.min.js' %}"></script>
    <!--<script src="{% static 'Jewerlythwebapp/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>


</html>